/******************************************************************************/
/***          Generated by IBExpert 2009.03.23 10.01.2012 10:02:06          ***/
/******************************************************************************/

SET SQL DIALECT 3;

SET NAMES WIN1251;


INSERT INTO T_SCALE_TYPES (SCALE_TYPE_ID, NAME, HAS_COM, HAS_EITHERNET) VALUES (2, 'Масса-К ВПМ', 0, 1);
INSERT INTO T_SCALE_TYPES (SCALE_TYPE_ID, NAME, HAS_COM, HAS_EITHERNET) VALUES (3, 'Масса-К ВП', 1, 0);
INSERT INTO T_SCALE_TYPES (SCALE_TYPE_ID, NAME, HAS_COM, HAS_EITHERNET) VALUES (4, 'METLER Tiger D', 0, 1);
INSERT INTO T_SCALE_TYPES (SCALE_TYPE_ID, NAME, HAS_COM, HAS_EITHERNET) VALUES (5, 'DIGI SP', 0, 1);
INSERT INTO T_SCALE_TYPES (SCALE_TYPE_ID, NAME, HAS_COM, HAS_EITHERNET) VALUES (1, 'CAS LP v1.5', 1, 1);

COMMIT WORK;

INSERT INTO T_SCALE_INTERFACES (SCALE_INTERFACE_ID, NAME) VALUES (0, 'COM порт');
INSERT INTO T_SCALE_INTERFACES (SCALE_INTERFACE_ID, NAME) VALUES (1, 'Eithernet');

COMMIT WORK;

INSERT INTO TS_TP_MODES (TP_MODE_ID, NAME) VALUES (0, 'Аварійний');
INSERT INTO TS_TP_MODES (TP_MODE_ID, NAME) VALUES (1, 'Звичайний');
INSERT INTO TS_TP_MODES (TP_MODE_ID, NAME) VALUES (2, 'Відновлення');
INSERT INTO TS_TP_MODES (TP_MODE_ID, NAME) VALUES (3, 'Ініціалізація ТП');

COMMIT WORK;

INSERT INTO T_1C_SYNC_STEPS (DIRECTION, TP_MODE_ID, NAME, QUERY_TP, QUERY_1C, WEIGHT, IS_ACTIVE, QUERY_TP_CONFIRM, QUERY_TP_RECORDS, QUERY_TP_RECORD_CONFIRM, ID) VALUES (1, 3, 'Дерево груп товарів (повн)', 'select oid from ps_1c_import_groups(:iid, :iname, :iparent_id)', 'ВЫБРАТЬ   "" КАК opointer,   ret.Код КАК oid,   ret.Наименование КАК oname,   ret.Родитель.Код КАК oparent_id  ИЗ   Справочник.Номенклатура КАК ret  ГДЕ (ret.ЭтоГруппа = ИСТИНА)', 1, 0, NULL, NULL, NULL, 1);
INSERT INTO T_1C_SYNC_STEPS (DIRECTION, TP_MODE_ID, NAME, QUERY_TP, QUERY_1C, WEIGHT, IS_ACTIVE, QUERY_TP_CONFIRM, QUERY_TP_RECORDS, QUERY_TP_RECORD_CONFIRM, ID) VALUES (1, 3, 'Ціни (повн)', 'select oid from ps_1c_import_prices(:iid,:iname, :iprice_dealer, :icode_wares, icode_dealer)', 'PRICES', 5, 0, NULL, NULL, NULL, 2);
INSERT INTO T_1C_SYNC_STEPS (DIRECTION, TP_MODE_ID, NAME, QUERY_TP, QUERY_1C, WEIGHT, IS_ACTIVE, QUERY_TP_CONFIRM, QUERY_TP_RECORDS, QUERY_TP_RECORD_CONFIRM, ID) VALUES (1, 3, 'Довідник товарів (повн)', 'select oid from ps_1c_import_nomens (:iid, :iname_wares, :icode_group,  :icode_brand, :iname_wares_brand, :iname_wares_receipt, :icode_unit,  :icode_wares_relative, :ivat_type, :iexcise, :iold_articl, :iarticl_wares_brand,  :io_wares, :iis_purchase, :iis_sell)  ', 'ВЫБРАТЬ      "" КАК opointer,   ret.Код КАК oid,   ret.Наименование КАК oname_wares,   ret.Родитель.Код КАК ocode_group,   ret.Бренд.Код КАК ocode_brand,   ret.НаименованиеПолное КАК oname_wares_brand,   ret.НаименованиеВЧеке КАК oname_wares_receipt,   ret.БазоваяЕдиницаИзмерения.Код КАК ocode_unit,   ret.ОсновнойТовар.Код КАК ocode_wares_relative,   ret.СтавкаНДС.Порядок КАК ovat_type,   ret.Подакцизный КАК oexcise,   ret.КодСпрут КАК oold_articl,   ret.Артикул КАК oarticl_wares_brand,   ret.Неактуален КАК oo_wares,   ret.БлокировкаЗакупки КАК ois_purchase,   ret.БлокировкаПродажи КАК ois_sell  ИЗ   Справочник.Номенклатура КАК ret  ГДЕ ret.Ссылка.ЭтоГруппа = ЛОЖЬ', 3, 0, NULL, NULL, NULL, 3);
INSERT INTO T_1C_SYNC_STEPS (DIRECTION, TP_MODE_ID, NAME, QUERY_TP, QUERY_1C, WEIGHT, IS_ACTIVE, QUERY_TP_CONFIRM, QUERY_TP_RECORDS, QUERY_TP_RECORD_CONFIRM, ID) VALUES (0, 2, 'Прихідні документи', 'select oid, oid_1c, odoc_num, oedrpou, odoc_date, ois_closed from ps_1c_export_docs', 'DOCS', 4, 1, 'update t_docs set id_1c = :iid_1c where doc_id = :iid', 'select oid, oid_1c,oid_1c_doc_id, ocode_wares, ocode_unit, oquantity, oprice_with_vat, ovat_type from ps_1c_export_doc_recs(:idoc_id)', 'update t_doc_recs set id_1c=:iid_1c where doc_id = :iid', 4);
INSERT INTO T_1C_SYNC_STEPS (DIRECTION, TP_MODE_ID, NAME, QUERY_TP, QUERY_1C, WEIGHT, IS_ACTIVE, QUERY_TP_CONFIRM, QUERY_TP_RECORDS, QUERY_TP_RECORD_CONFIRM, ID) VALUES (1, 3, 'Класифікатор одиниць виміру (повн)', 'select oid from ps_1c_import_units(:iid, :iname)', 'ВЫБРАТЬ   "" КАК opointer,   ret.Код КАК oid,   ret.Наименование КАК oname  ИЗ   Справочник.КлассификаторЕдиницИзмерения КАК ret', 2, 1, NULL, NULL, NULL, 5);
INSERT INTO T_1C_SYNC_STEPS (DIRECTION, TP_MODE_ID, NAME, QUERY_TP, QUERY_1C, WEIGHT, IS_ACTIVE, QUERY_TP_CONFIRM, QUERY_TP_RECORDS, QUERY_TP_RECORD_CONFIRM, ID) VALUES (1, 1, 'Класифікатор одиниць виміру', 'select oid from ps_1c_import_units(:iid, :iname)', 'ВЫБРАТЬ   ret.Ссылка КАК opointer,   ret.Ссылка.Код КАК oid,   ret.Ссылка.Наименование КАК oname  ИЗ   Справочник.КлассификаторЕдиницИзмерения.Изменения КАК ret  ГДЕ ret.Узел = &iknot', 2, 0, NULL, NULL, NULL, 6);
INSERT INTO T_1C_SYNC_STEPS (DIRECTION, TP_MODE_ID, NAME, QUERY_TP, QUERY_1C, WEIGHT, IS_ACTIVE, QUERY_TP_CONFIRM, QUERY_TP_RECORDS, QUERY_TP_RECORD_CONFIRM, ID) VALUES (0, 2, 'Змінені товари ТП', 'select oid, oid_1c, ocode_unit, ocode_wares_relative, ocode_brand,   ovat_type, oexcise, oname_wares_receipt, oname_wares_brand,   oname_wares, ocode_group from ps_1c_export_nomens;', 'NOMENS', 1, 0, 'update wares set id_1c = :iid_1c where code_wares = :iid', NULL, NULL, 7);
INSERT INTO T_1C_SYNC_STEPS (DIRECTION, TP_MODE_ID, NAME, QUERY_TP, QUERY_1C, WEIGHT, IS_ACTIVE, QUERY_TP_CONFIRM, QUERY_TP_RECORDS, QUERY_TP_RECORD_CONFIRM, ID) VALUES (1, 1, 'Довідник товарів (змінені)', 'select oid from ps_1c_import_nomens (:iid, :iname_wares, :icode_group,  :icode_brand, :iname_wares_brand, :iname_wares_receipt, :icode_unit,  :icode_wares_relative, :ivat_type, :iexcise, :iold_articl, :iarticl_wares_brand,  :io_wares, :iis_purchase, :iis_sell)  ', 'ВЫБРАТЬ   ret.Ссылка КАК opointer,
   ret.Ссылка.Код КАК oid,
   ret.Ссылка.Наименование КАК oname_wares,
   ret.Ссылка.Родитель.Код КАК ocode_group,
   ret.Ссылка.Бренд.Код КАК ocode_brand,
   ret.Ссылка.НаименованиеПолное КАК oname_wares_brand,
   ret.Ссылка.НаименованиеВЧеке КАК oname_wares_receipt,
   ret.Ссылка.БазоваяЕдиницаИзмерения.Код КАК ocode_unit,
   ret.Ссылка.ОсновнойТовар.Код КАК ocode_wares_relative,
   ret.Ссылка.СтавкаНДС.Порядок КАК ovat_type,
   ret.Ссылка.Подакцизный КАК oexcise,
   ret.Ссылка.КодСпрут КАК oold_articl,
   ret.Ссылка.Артикул КАК oarticl_wares_brand,
   ret.Ссылка.Неактуален КАК oo_wares,
   ret.Ссылка.БлокировкаЗакупки КАК ois_purchase,
   ret.Ссылка.БлокировкаПродажи КАК ois_sell
  ИЗ   Справочник.Номенклатура.Изменения КАК ret
  ГДЕ (ret.Ссылка.ЭтоГруппа = ЛОЖЬ) И
   (ret.Узел = &iknot)', 3, 0, NULL, NULL, NULL, 8);
INSERT INTO T_1C_SYNC_STEPS (DIRECTION, TP_MODE_ID, NAME, QUERY_TP, QUERY_1C, WEIGHT, IS_ACTIVE, QUERY_TP_CONFIRM, QUERY_TP_RECORDS, QUERY_TP_RECORD_CONFIRM, ID) VALUES (1, 3, 'Штрихкоди (повн)', 'select oid from ps_1c_import_barcodes(:iid, :ibar_code)', 'ВЫБРАТЬ   "" КАК opointer,
   ret.ЕдиницаИзмерения.Код КАК oid,
   ret.Штрихкод КАК obar_code
 ИЗ   РегистрСведений.Штрихкоды КАК ret', 8, 1, NULL, NULL, NULL, 9);
INSERT INTO T_1C_SYNC_STEPS (DIRECTION, TP_MODE_ID, NAME, QUERY_TP, QUERY_1C, WEIGHT, IS_ACTIVE, QUERY_TP_CONFIRM, QUERY_TP_RECORDS, QUERY_TP_RECORD_CONFIRM, ID) VALUES (1, 1, 'Штрихкоди (оновл)', 'select oid from ps_1c_import_barcodes(:icode_wares, :icode_unit, :ibar_code, :icoefficient)', 'ВЫБРАТЬ   "Штрихкоды" КАК opointer,
   ret.ЕдиницаИзмерения.Код КАК oid,
   ret.Штрихкод КАК obar_code,
   ret.Владелец,   ret.ТипШтрихкода,
   ret.ЕдиницаИзмерения,
   ret.ХарактеристикаНоменклатуры,
   ret.СерияНоменклатуры,
   ret.Качество,   ret.Штрихкод 
 ИЗ   РегистрСведений.Штрихкоды.Изменения 
КАК ret  ГДЕ   ret.Узел = &iknot', 6, 0, NULL, NULL, NULL, 10);
INSERT INTO T_1C_SYNC_STEPS (DIRECTION, TP_MODE_ID, NAME, QUERY_TP, QUERY_1C, WEIGHT, IS_ACTIVE, QUERY_TP_CONFIRM, QUERY_TP_RECORDS, QUERY_TP_RECORD_CONFIRM, ID) VALUES (0, 1, 'Чеки', 'select oid, oid_1c, odate_order, otype_payment, ocode_client,          ocode_dealer, odiscount  from ps_1c_export_orders', 'ORDERS', 8, 1, 'update order_client_cache set id_1c = :iid_1c where code_order = :iid', 'select oid, oid_1c,oid_1c_doc_id, ocode_wares, ocode_unit, oquantity, oprice_with_vat, ovat_type, odiscount from ps_1c_export_order_recs(:idoc_id)', 'update wares_order_cache set id_1c=:iid_1c where code_order=:iid', 11);
INSERT INTO T_1C_SYNC_STEPS (DIRECTION, TP_MODE_ID, NAME, QUERY_TP, QUERY_1C, WEIGHT, IS_ACTIVE, QUERY_TP_CONFIRM, QUERY_TP_RECORDS, QUERY_TP_RECORD_CONFIRM, ID) VALUES (1, 3, 'Типи цін (Магазини)', 'select oid from ps_1c_import_dealers(:iid, :iname)', 'ВЫБРАТЬ   "" КАК opointer,   ret.Код КАК oid,   ret.Наименование КАК oname  ИЗ   Справочник.ТипыЦенНоменклатуры КАК ret', 2.5, 1, NULL, NULL, NULL, 12);
INSERT INTO T_1C_SYNC_STEPS (DIRECTION, TP_MODE_ID, NAME, QUERY_TP, QUERY_1C, WEIGHT, IS_ACTIVE, QUERY_TP_CONFIRM, QUERY_TP_RECORDS, QUERY_TP_RECORD_CONFIRM, ID) VALUES (1, 1, 'Дерево груп товарів (змінені)', 'select oid from ps_1c_import_groups(:iid, :iname, :iparent_id)', 'ВЫБРАТЬ   ret.Ссылка КАК opointer,   ret.Ссылка.Код КАК oid,   ret.Ссылка.Наименование КАК oname,   ret.Ссылка.Родитель.Код КАК oparent_id  ИЗ   Справочник.Номенклатура.Изменения КАК ret  ГДЕ (ret.Ссылка.ЭтоГруппа = ИСТИНА) И   (ret.Узел = &iknot)  ', 1, 0, NULL, NULL, NULL, 13);
INSERT INTO T_1C_SYNC_STEPS (DIRECTION, TP_MODE_ID, NAME, QUERY_TP, QUERY_1C, WEIGHT, IS_ACTIVE, QUERY_TP_CONFIRM, QUERY_TP_RECORDS, QUERY_TP_RECORD_CONFIRM, ID) VALUES (1, 3, 'ЕККА (повн)', 'select oid from ps_1c_import_reg_cash_reg(:iid, :icode_company, :iserial_number_cash)', 'ВЫБРАТЬ   "" КАК opointer,   ret.Код КАК oid,   ret.ОбособленноеПодразделение.Код КАК ocode_company,   ret.Наименование КАК oserial_number_cash  ИЗ   Справочник.КассыККМ КАК ret', 3, 1, NULL, NULL, NULL, 14);
INSERT INTO T_1C_SYNC_STEPS (DIRECTION, TP_MODE_ID, NAME, QUERY_TP, QUERY_1C, WEIGHT, IS_ACTIVE, QUERY_TP_CONFIRM, QUERY_TP_RECORDS, QUERY_TP_RECORD_CONFIRM, ID) VALUES (1, 3, 'Контрагенти (Приватні) (повн)', 'select oid from ps_1c_import_p_clients (:iid, :ibar_code, :iis_active, :iis_payer_vat, :iimpocition,
 :iagree_number, :isurname, :iname,:ipatronymic,:iaddress, :idocument,:iname_for_print,
 :icode_discount_card,:iper_pp, :idiscount)', 'ВЫБРАТЬ
  "" КАК opointer,
  ret.Код КАК oid,
  "" КАК obar_code,
  ret.НеАктивныйКонтрагент КАК ois_not_active,
  1 КАК ois_payer_vat,
  ret.ИНН КАК oimpocition,
  ret.КодПоЕДРПОУ КАК oagree_number,
  ret.Наименование КАК osurname,
  ret.Наименование КАК oname,
  ret.Наименование КАК opatronymic,
  "" КАК oaddress,
  ret.ДокументУдостоверяющийЛичность КАК odocument,
  ret.НаименованиеПолное КАК oname_for_print,
  "" КАК ocode_discount_card,
  0 КАК oper_pp,
  0 КАК odiscount
  ИЗ
  Справочник.Контрагенты КАК ret
  ГДЕ
  ret.ЭтоГруппа = ЛОЖЬ
  И ret.ЮрФизЛицо.Порядок = 1', 4, 1, NULL, NULL, NULL, 15);
INSERT INTO T_1C_SYNC_STEPS (DIRECTION, TP_MODE_ID, NAME, QUERY_TP, QUERY_1C, WEIGHT, IS_ACTIVE, QUERY_TP_CONFIRM, QUERY_TP_RECORDS, QUERY_TP_RECORD_CONFIRM, ID) VALUES (1, 3, 'Контрагенти (ЮрОсоби) (повн)', 'select oid from ps_1c_import_f_clients (:iid, :ibar_code, :iis_not_active, :iis_payer_vat, :iimpocition,
 :iagree_number, :iname, :iaddress, :iname_for_print,
 :iper_pp, :idiscount, :icode_parent_firm, :icode_bank, :icode_zip,
 :iaccount, :iaddress_location)', 'ВЫБРАТЬ
  "" КАК opointer,
  ret.Код КАК oid,
  "" КАК obar_code,
  ret.НеАктивныйКонтрагент КАК ois_not_active,
  1 КАК ois_payer_vat,
  ret.ИНН КАК oimpocition,
    ret.КодПоЕДРПОУ КАК oagree_number,
   ret.Наименование КАК oname,
  "" КАК oaddress,
   ret.НаименованиеПолное КАК oname_for_print,
   0 КАК oper_pp,
  0 КАК odiscount,
    ret.ГоловнойКонтрагент.Код КАК ocode_parent_firm,
   ret.ОсновнойБанковскийСчет.Банк.Код КАК ocode_bank,
    ret.НомерСвидетельства КАК ocode_zip,
  ret.ОсновнойБанковскийСчет.НомерСчета КАК oaccount,
  "" КАК oaddress_location
 ИЗ
  Справочник.Контрагенты КАК ret
  ГДЕ
  ret.ЭтоГруппа = ЛОЖЬ
  И ret.ЮрФизЛицо.Порядок = 0
', 5, 1, NULL, NULL, NULL, 16);
INSERT INTO T_1C_SYNC_STEPS (DIRECTION, TP_MODE_ID, NAME, QUERY_TP, QUERY_1C, WEIGHT, IS_ACTIVE, QUERY_TP_CONFIRM, QUERY_TP_RECORDS, QUERY_TP_RECORD_CONFIRM, ID) VALUES (1, 1, 'Контрагенти (ЮрОсоби) (змінені)', 'select oid from ps_1c_import_f_clients (:iid, :ibar_code, :iis_not_active, :iis_payer_vat, :iimpocition,
 :iagree_number, :iname, :iaddress, :iname_for_print,
 :iper_pp, :idiscount, :icode_parent_firm, :icode_bank, :icode_zip,
 :iaccount, :iaddress_location)', 'ВЫБРАТЬ
  ret.Ссылка КАК opointer,
  ret.Ссылка.Код КАК oid,
  "" КАК obar_code,
  ret.Ссылка.НеАктивныйКонтрагент КАК ois_not_active,
  1 КАК ois_payer_vat,
  ret.Ссылка.ИНН КАК oimpocition,
   ret.Ссылка.КодПоЕДРПОУ КАК oagree_number,
  ret.Ссылка.Наименование КАК oname,
   "" КАК oaddress,
 ret.Ссылка.НаименованиеПолное КАК oname_for_print,
  0 КАК oper_pp,
  0 КАК odiscount,
  ret.Ссылка.ГоловнойКонтрагент.Код КАК ocode_parent_firm,
   ret.Ссылка.ОсновнойБанковскийСчет.Банк.Код КАК ocode_bank,
   ret.Ссылка.НомерСвидетельства КАК ocode_zip,
  ret.Ссылка.ОсновнойБанковскийСчет.НомерСчета КАК oaccount,
  "" КАК oaddress_location
  ИЗ
  Справочник.Контрагенты.Изменения КАК ret
  ГДЕ
  ret.Ссылка.ЭтоГруппа = ЛОЖЬ
  И ret.Ссылка.ЮрФизЛицо.Порядок = 0
  И ret.Узел = &iknot
', 6, 1, NULL, NULL, NULL, 18);
INSERT INTO T_1C_SYNC_STEPS (DIRECTION, TP_MODE_ID, NAME, QUERY_TP, QUERY_1C, WEIGHT, IS_ACTIVE, QUERY_TP_CONFIRM, QUERY_TP_RECORDS, QUERY_TP_RECORD_CONFIRM, ID) VALUES (1, 1, 'Контрагенти (Приватні) (змінені)', 'select oid from ps_1c_import_p_clients (:iid, :ibar_code, :iis_active, :iis_payer_vat, :iimpocition,
 :iagree_number, :isurname, :iname,:ipatronymic,:iaddress, :idocument,:iname_for_print,
 :icode_discount_card,:iper_pp, :idiscount)
', 'ВЫБРАТЬ
  ret.Ссылка КАК opointer,
  ret.Ссылка.Код КАК oid,
  "" КАК obar_code,
  ret.Ссылка.НеАктивныйКонтрагент КАК ois_not_active,
  1 КАК ois_payer_vat,
  ret.Ссылка.ИНН КАК oimpocition,
  ret.Ссылка.КодПоЕДРПОУ КАК oagree_number,
  ret.Ссылка.Наименование КАК osurname,
  ret.Ссылка.Наименование КАК oname,
  ret.Ссылка.Наименование КАК opatronymic,
  "" КАК oaddress,
  ret.Ссылка.ДокументУдостоверяющийЛичность КАК odocument,
  ret.Ссылка.НаименованиеПолное КАК oname_for_print,
  "" КАК ocode_discount_card,
  0 КАК oper_pp,
  0 КАК odiscount
  ИЗ
  Справочник.Контрагенты.Изменения КАК ret
  ГДЕ
  ret.Ссылка.ЭтоГруппа = ЛОЖЬ
  И ret.Ссылка.ЮрФизЛицо.Порядок = 1
  И ret.Узел = &iknot', 7, 1, NULL, NULL, NULL, 19);
INSERT INTO T_1C_SYNC_STEPS (DIRECTION, TP_MODE_ID, NAME, QUERY_TP, QUERY_1C, WEIGHT, IS_ACTIVE, QUERY_TP_CONFIRM, QUERY_TP_RECORDS, QUERY_TP_RECORD_CONFIRM, ID) VALUES (1, 3, 'Одиниці виміру (повн)', 'select oid from ps_1c_import_add_units(:iid, :icode_wares, :icode_unit, :icoefficient)', 'ВЫБРАТЬ "" КАК opointer,
  ret.Код КАК oid,
  ret.Владелец.Код КАК ocode_wares,
  ret.ЕдиницаПоКлассификатору.Код КАК ocode_unit,
  ret.Коэффициент КАК ocoefficient
 ИЗ
  Справочник.ЕдиницыИзмерения КАК ret', 6, 0, NULL, NULL, NULL, 20);
INSERT INTO T_1C_SYNC_STEPS (DIRECTION, TP_MODE_ID, NAME, QUERY_TP, QUERY_1C, WEIGHT, IS_ACTIVE, QUERY_TP_CONFIRM, QUERY_TP_RECORDS, QUERY_TP_RECORD_CONFIRM, ID) VALUES (1, 1, 'Одиниці виміру (оновл)', 'select oid from ps_1c_import_add_units(:iid, :icode_wares, :icode_unit, :icoefficient)', 'ВЫБРАТЬ  ret.Ссылка КАК opointer,
   ret.Ссылка.Код КАК oid,
   ret.Ссылка.Владелец.Код КАК ocode_wares,
   ret.Ссылка.ЕдиницаПоКлассификатору.Код КАК ocode_unit,
   ret.Ссылка.Коэффициент КАК ocoefficient
ИЗ
   Справочник.ЕдиницыИзмерения.Изменения КАК ret
ГДЕ    (ret.Узел = &iknot)', 7, 1, NULL, NULL, NULL, 21);

COMMIT WORK;

